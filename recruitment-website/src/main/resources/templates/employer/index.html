<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TalentHub - Recruiter Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
    <div th:replace="employer/fragments/header :: header"></div>

    <div th:replace="employer/fragments/nav :: nav"></div>
        </nav>

        <!-- Dashboard Content -->
        <div class="content">
            <h2>Dashboard Overview</h2>
            
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="total-jobs">12</h3>
                    <p>Total Jobs Posted</p>
                </div>
                <div class="stat-card">
                    <h3 id="total-candidates">247</h3>
                    <p>Total Candidates</p>
                </div>
                <div class="stat-card">
                    <h3 id="active-jobs">8</h3>
                    <p>Active Jobs</p>
                </div>
                <div class="stat-card">
                    <h3 id="avg-candidates">21</h3>
                    <p>Avg. Candidates per Job</p>
                </div>
            </div>
            
            <!-- Recent Jobs Section -->
            <h3>Recent Job Postings</h3>
            <div id="recent-jobs">
                <div class="job-card">
                    <h3>Senior React Developer</h3>
                    <div class="job-meta">
                        <span>🏢 TechFlow Inc.</span>
                        <span>📍 San Francisco, CA</span>
                        <span>💼 Full-time</span>
                        <span>💰 $100,000 - $140,000</span>
                    </div>
                    <div class="candidate-count">12 candidates applied</div>
                    <div class="job-actions">
                        <a href="job-details.html?id=1" class="btn btn-secondary">👥 View Candidates</a>
                        <a href="edit-job.html?id=1" class="btn">✏️ Edit</a>
                    </div>
                </div>

                <div class="job-card">
                    <h3>UX/UI Designer</h3>
                    <div class="job-meta">
                        <span>🏢 DesignHub</span>
                        <span>📍 New York, NY</span>
                        <span>💼 Full-time</span>
                        <span>💰 $80,000 - $110,000</span>
                    </div>
                    <div class="candidate-count">8 candidates applied</div>
                    <div class="job-actions">
                        <a href="job-details.html?id=2" class="btn btn-secondary">👥 View Candidates</a>
                        <a href="edit-job.html?id=2" class="btn">✏️ Edit</a>
                    </div>
                </div>

                <div class="job-card">
                    <h3>Lập trình viên Frontend</h3>
                    <div class="job-meta">
                        <span>🏢 Công ty ABC</span>
                        <span>🏭 Công nghệ thông tin</span>
                        <span>📍 Quận 1, TP.HCM</span>
                        <span>💼 Toàn thời gian</span>
                        <span>💰 15-25 triệu VNĐ</span>
                        <span style="background: #f59e0b; color: white;">⚡ Khá gấp</span>
                    </div>
                    <div class="candidate-count">15 ứng viên đã ứng tuyển</div>
                    <div class="job-actions">
                        <a href="job-details.html?id=3" class="btn btn-secondary">👥 Xem ứng viên</a>
                        <a href="edit-job.html?id=3" class="btn">✏️ Chỉnh sửa</a>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <h3>Quick Actions</h3>
                <div class="actions-grid">
                    <a href="post-job.html" class="action-card">
                        <div class="action-icon">📝</div>
                        <h4>Post New Job</h4>
                        <p>Create a new job posting</p>
                    </a>
                    <a href="post-job-vn.html" class="action-card">
                        <div class="action-icon">🇻🇳</div>
                        <h4>Đăng tuyển VN</h4>
                        <p>Tạo tin tuyển dụng tiếng Việt</p>
                    </a>
                    <a href="candidates.html" class="action-card">
                        <div class="action-icon">👥</div>
                        <h4>View All Candidates</h4>
                        <p>Browse candidate profiles</p>
                    </a>
                    <a href="statistics.html" class="action-card">
                        <div class="action-icon">📈</div>
                        <h4>View Statistics</h4>
                        <p>Analyze recruitment data</p>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboardStats();
        });

        function loadDashboardStats() {
            // Load stats from localStorage or API
            const jobs = JSON.parse(localStorage.getItem('jobs') || '[]');
            const candidates = JSON.parse(localStorage.getItem('candidates') || '[]');
            
            document.getElementById('total-jobs').textContent = jobs.length;
            document.getElementById('total-candidates').textContent = candidates.length;
            document.getElementById('active-jobs').textContent = jobs.filter(j => j.isActive).length;
            document.getElementById('avg-candidates').textContent = jobs.length > 0 ? Math.round(candidates.length / jobs.length) : 0;
        }
    </script>
</body>
</html>